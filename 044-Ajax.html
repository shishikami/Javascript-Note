<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajax</title>
    <script src="jssource/jquey.min.js"></script>
    <script>
        // 客户端与服务器
        // 服务器：负责存放、对外提供资源的电脑
        // 客户端：获取、消费资源的电脑

        // URL定义：
        // Uniform Resource Locator 统一资源定位符 表示互联网上每个资源的唯一存放地址
        // 三部分组成：客户端与服务器之间的通信协议 存有该资源的服务器名称 资源在服务器上的具体存放位置
        
        // protocal://host[:port]/path/[?query]#fragment
        // protocal 通信协议 常用http ftp maito等
        // host 主机（域名）
        // port 端口号 可选（省略时采用默认端口 e.g.http采用端口80）
        // path 路径 由零或多个/符号隔开的字符串。一般表示主机上的一个目录或者文件地址
        // query 参数 以键值对的形式 通过&符号分隔开
        // fragment 片段 #后面的内容 常见于连接锚点

        // 网页打开过程 请求-处理-响应
        // 1.客户端请求服务器
        // 2.服务器处理请求
        // 3.服务器响应客户端

        // 网页中请求服务器上的资源会用到XMLHttpRequest对象
        // 该对象xhr是浏览器提供的js成员，通过它可以请求服务器上的资源
        // 最简单的用法 var xhrObj = new XMLHttpRequest();

        // 资源请求方式
        // 最常见方式：get post
        // get请求一般用于获取服务器资源 根据URL向服务器获取HTML、css、js、图片等等
        // post向服务器提交数据 登陆时向服务器提交登录信息 注册时提供注册信息等各种数据提交操作

        // Ajax Asynchronous Javascript And XML(异步JavaScript和XML)
        // 在网页中利用XMLHttpRequest对象和服务器进行数据交互的方式就是Ajax
        // 实现网页和服务器之间的数据交互

        // 典型应用 用户名检测...
        
        // jQ常用相关方法
        // $.get() $.post() $.ajax()
        // 1.$.get() 
        // 用来发起get请求,从服务器获取数据
        // $.get(url,[data,][callback])
        // url string 要请求资源地址
        // data objeect 请求资源期间要携带的参数
        // callback function 请求成功时的回调函数 
        // 2.$.post()
        // 用来发起post请求,向服务器传输数据
        // $.post(url,[data,][callback])
        // url string 要提交数据的地址
        // data objeect 要提交的数据
        // callback function 请求成功时的回调函数 
        // 3.$.ajax()
        // 功能比较综合，可以对Ajax进行更详细的配置
        // $.ajax({
        //     type:'', 求情的方式GET或者POST
        //     url:'', URL地址
        //     data:{}, 携带的数据
        //     success:function(res){} 成功后的回调函数
        // })

        // 接口
        // 使用Ajax请求数据时被请求的URL地址就是数据接口，每个接口必须有请求方式

        // 接口文档
        // 接口的说明文档 包括URL 参数 输出内容
        // 1.接口名称 2.接口URL 3.调用方式 4.参数格式[参数名称 参数类型 是否必选 参数说明] 
        // 5.相应格式[数据名称 数据类型 说明] 6.返回示例(可选)
    </script>
</head>

<body>
    <script>
        $(function(){
            $.get('http://www.liulongbin.top:3006/api/getbooks',function(res){
            console.log(res);
            })
            $.get('http://www.liulongbin.top:3006/api/getbooks',{id:1},function(res){
            console.log(res);
            })
            $.post('http://www.liulongbin.top:3006/api/addbook',
            {bookname: "西游记",author: "吴承恩",publisher: "北京图书出版社"},
            function(res){
                console.log(res);
            })
        })
    </script>
</body>

</html>